# Change Impact Analysis - First Run

---

## 1. Original CR/BRD/User Stories (as received)

User Story 1: Multi-Step User Registration
Description: As a bank customer, I want to register using a multi-step signup process so that I can securely create my online banking account.
Acceptance Criteria: • Registration has multiple steps • Personal, contact, and account details are collected • Mandatory fields are validated • Account is created only after successful validation

User Story 2: Personal Details Collection
Description: As a bank customer, I want to enter my personal details during registration so that my identity can be verified.
Acceptance Criteria: • User can enter personal information • Mandatory fields cannot be empty • Data format is validated

User Story 3: Contact Details Collection
Description: As a bank customer, I want to provide my contact details so that the bank can communicate with me.
Acceptance Criteria: • Email and phone number can be entered • Contact details are validated • Details are saved successfully

User Story 4: Account Details Validation
Description: As a bank customer, I want my account details validated so that only authorized users can register.
Acceptance Criteria: • Account details are verified • Invalid details show error messages • Registration proceeds only after validation

User Story 5: User Login
Description: As a bank customer, I want to log in using my credentials so that I can securely access my account.
Acceptance Criteria: • Valid credentials allow login • Invalid credentials show an error • Successful login redirects to dashboard

User Story 6: Secure PIN Setup
Description: As a bank customer, I want to set a secure PIN so that my transactions are protected.
Acceptance Criteria: • PIN follows security rules • PIN confirmation is required • PIN is stored securely

User Story 7: PIN Validation
Description: As a bank customer, I want my PIN validated before transactions so that unauthorized access is prevented.
Acceptance Criteria: • PIN is required for transactions • Incorrect PIN blocks transaction • Correct PIN allows transaction

User Story 8: Balance Enquiry
Description: As a bank customer, I want to view my current account balance so that I know my available funds.
Acceptance Criteria: • Balance is displayed accurately • Recent transactions are reflected • User must be logged in

User Story 9: Mini Statement
Description: As a bank customer, I want to view a mini statement so that I can see recent transactions.
Acceptance Criteria: • Recent transactions are displayed • Date and amount are shown • Data is retrieved securely

User Story 10: Full Transaction History
Description: As a bank customer, I want to view all my transactions so that I can track past activity.
Acceptance Criteria: • Complete transaction list is displayed • Transactions are ordered correctly • Data loads without errors

User Story 11: Deposit Funds
Description: As a bank customer, I want to deposit money into my account so that my balance increases.
Acceptance Criteria: • Deposit amount is validated • Balance updates after deposit • Transaction is recorded

User Story 12: Withdraw Funds
Description: As a bank customer, I want to withdraw money from my account so that I can access my funds.
Acceptance Criteria: • Withdrawal amount is entered • Balance is checked • Transaction completes successfully

User Story 13: Withdrawal Balance Validation
Description: As a bank customer, I want the system to validate my balance before withdrawal so that overdrawing is prevented.
Acceptance Criteria: • Available balance is verified • Insufficient funds block withdrawal • Error message is displayed

User Story 14: Secure Database Connection
Description: As a system, I want to establish a secure database connection so that data is protected.
Acceptance Criteria: • Secure credentials are used • Connection is successful • Errors are handled properly

User Story 15: Store User Data
Description: As a system, I want to store user data so that account information is available when needed.
Acceptance Criteria: • User data is saved in database • Data can be retrieved correctly • Data integrity is maintained

User Story 16: Store Transaction Data
Description: As a system, I want to store transaction data so that transaction history is maintained.
Acceptance Criteria: • Each transaction is recorded • Data is stored securely • Records are accurate

User Story 17: Data Security
Description: As a bank customer, I want my data encrypted so that my personal and financial information is secure.
Acceptance Criteria: • Sensitive data is encrypted • Unauthorized access is prevented • Security standards are followed

User Story 18: Fast and Reliable System
Description: As a bank customer, I want the system to be fast and reliable so that I can complete banking tasks without delays.
Acceptance Criteria: • Transactions process quickly • System uptime is high • Errors are handled gracefully

User Story 19: Password Resets
Description: As a bank customer, I want to reset my password so that I can regain access if I forget it.
Acceptance Criteria: • Password reset request is supported • User identity is verified • New password meets security rules

User Story 20: Two-Factor Authentication
Description: As a bank customer, I want two-factor authentication so that my account is more secure.
Acceptance Criteria: • OTPs is sent to registered contact • OTP is time-bound • Valid OTP allows access

---

## 2. First Run Impact Analysis Table (Unified Impact Analysis Table)

| Codebase/Repo         | File/Component                                         | Impact Type (add/modify/delete) | Direct/Indirect | Requirement/Reason                                                                                                                                                                                                                                                  | Relationship               | Rationale for Inclusion                                                                              | Affected Sections                                      | Potential Risks                                         | Change Required (Yes/No) | Annotation                                                                                                                                                  | Coverage Status (Complete/Missing) | Coverage Notes                                                                                   |
|-----------------------|--------------------------------------------------------|-------------------------------|-----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------|-----------------------------------------------------------------------------------------------------|--------------------------------------------------------|---------------------------------------------------------|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|---------------------------------------------------------------------------------------------------|
| OnlineBankingNew_main | src/com/bank/service/RegistrationService.java           | modify                        | Direct          | Multi-Step User Registration, Personal Details, Contact Details, Account Details Validation, PIN Setup                                                                                                                        | dependency                  | Orchestrates multi-step registration, validation, secure PIN setup                                   | Multi-step registration workflow; personal/contact/account details; PIN setup/validation         | Incomplete validation, security flaws, step tracking errors          | Yes                       | Needs changes for multi-step logic, mandatory fields, validation, secure PIN setup                                                     | Complete                     | All requirements for registration/PIN steps mapped; review assures full coverage                  |
| OnlineBankingNew_main | src/com/bank/web/UserController.java                    | modify                        | Direct          | API endpoints for registration/login, password reset, PIN/2FA.                                                                                                                                                                | dependency                  | Handles front-end/API for registration, login, password reset, PIN, OTP                            | API endpoints for registration/login, password reset, PIN/2FA                                  | Security gaps, improper error feedback, broken API flows           | Yes                       | Must update for stepwise registration, login, password/PIN, error/OTP handling                                                         | Complete                     | Requirements/user stories mapped to all controller endpoints.                                     |
| OnlineBankingNew_main | src/com/bank/dao/UserDAO.java                           | modify                        | Direct          | User data CRUD, registration, PIN storage/validation.                                                                                                                                                                        | dependency                  | Handles user CRUD, registration, validation, PIN, and password management                         | User data CRUD; registration; PIN storage/validation                                           | Data integrity loss, weak validation, insecure PIN handling         | Yes                       | Needs updates for registration, secure PIN, validation, error handling                                                                  | Complete                     | Requirements for all user story persistence flows covered.                                       |
| OnlineBankingNew_main | src/com/bank/model/User.java                            | modify                        | Direct          | User fields for multi-step registration, PIN, contact info, identity verification.                                                                                                     | dependency                  | POJO fields for multi-step registration, PIN/2FA, identity                                       | User fields for multi-step registration, PIN, contact info                                    | Field mismatch, missing validation, migration issues               | Yes                       | Must extend user model for all registration/PIN/2FA/identity info                                                                       | Complete                     | All mapped properties from user stories scoped to model.                                         |
| OnlineBankingNew_main | src/com/bank/service/AuthService.java                   | modify                        | Direct          | Credential/PIN/OTP verification; password reset; 2FA logic.                                                                                                                                                                 | dependency                  | Validates credentials, PIN, manages session, password, OTP logic                                 | Credential/PIN/OTP verification; password reset; 2FA logic                                   | Vulnerable authentication, weak OTP handling                       | Yes                       | Add/modify PIN/OTP logic, session management, password reset, error flows                                                              | Complete                     | Credentials, PIN/OTP, reset & authentication mapped to requirements table.                       |
| OnlineBankingNew_main | src/com/bank/service/NotificationService.java           | modify                        | Direct          | Contact Details, 2FA, OTP, Password Resets.                                                                                                                                                                                  | dependency                  | Sends OTP, notifications for registration/password reset                                         | OTP/2FA notification methods; contact info updates                                            | Delivery failures, race conditions on OTP expiry                   | Yes                       | Updated notification logic for OTP, password reset, PIN/2FA setup, error integration                                                  | Complete                     | Full notification, OTP, and error mapped to user stories.                                       |
| OnlineBankingNew_main | src/com/bank/util/EncryptionUtil.java                   | modify                        | Direct          | Secure PIN Setup, Data Security, Password Resets, Credentials.                                                                                                                        | dependency                  | Used for PIN/password/user info encryption                                                       | PIN/password/sensitive data encryption                                                      | Encryption flaws, security leaks                                    | Yes                       | Proper encryption for PIN/password, adopts best practices per user stories                                                            | Complete                     | Meets all encryption needs from requirement/CR.                                                 |
| OnlineBankingNew_main | src/com/bank/dao/AccountDAO.java                        | modify                        | Direct          | Account Details Validation, Balance Enquiry, Deposit/Withdraw, Store Transaction Data.                                                                                                | dependency                  | Account validation and fund/balance management                                                  | Account details validation, balance/fund operations                                          | Wrong validation, data loss during transactions                      | Yes                       | Account validation for onboarding, transaction, registration                                                                           | Complete                     | Account/fund management flows mapped.                                                          |
| OnlineBankingNew_main | src/com/bank/model/Account.java                         | modify                        | Direct          | Account structure for new fields/validation.                                                                                                                                                                                 | dependency                  | Holds account structure for transaction/validation                                              | Account structure for new fields/validation                                                 | Mapping errors, legacy data migration                                | Yes                       | Model must support all onboarding, transaction, and validation flows from requirements table                                          | Complete                     | Account data/validation all covered.                                                          |
| OnlineBankingNew_main | src/com/bank/service/TransactionService.java            | modify                        | Direct          | Deposit Funds, Withdraw Funds, Withdrawal Balance Validation, Transaction Data, Mini Statement, Full History, PIN Validation.                                                         | dependency                  | Deposit/withdraw, statement, PIN checks, error handling                                        | Deposit/withdraw/statement/history, PIN validation                                           | Overdraft, incorrect transaction processing                          | Yes                       | PIN validation, withdrawal validation, mini/full statement, error handling                                                             | Complete                     | Data handling, history, PIN mapped to user stories.                                           |
| OnlineBankingNew_main | src/com/bank/dao/TransactionDAO.java                    | modify                        | Direct          | Deposit Funds, Withdraw Funds, Mini Statement, Full Transaction History, Store Transaction Data.                                                | dependency                  | Manages transaction records/queries for statement/history                                      | CRUD for transaction statements/history                                                     | Data loss, reporting errors                                         | Yes                       | Expand record handling to support statement/history per acceptance criteria                                                            | Complete                     | Transaction/statement/history coverage confirmed.                                             |
| OnlineBankingNew_main | src/com/bank/model/Transaction.java                     | modify                        | Direct          | Transaction fields for deposit/withdraw/history.                                                                                                                                                                             | dependency                  | Transaction object must handle all flows, support auditing                                    | Transaction fields for deposit/withdraw/history                                              | Data structure mismatch, missing audit fields                         | Yes                       | Model audit fields must be complete for history, statement, deposit, withdrawal                                                        | Complete                     | Data mapped to all story needs.                                                               |
| OnlineBankingNew_main | src/com/bank/util/DBUtil.java                           | modify                        | Direct          | Secure Database Connection, Data Security.                                                                                                                                                                                    | dependency                  | DB connections, credential security, error handling                                           | Secure DB connection, error handling, credential security                                    | DB breaches, unhandled errors                                      | Yes                       | Secure credential handling, robust error management, audit trail                                                                      | Complete                     | All DB connection/security mapped to requirement.                                             |
| OnlineBankingNew_main | Not specified (Error Message handling)                  | add/modify                    | Direct          | Error handling for registration/login, validation, 2FA/PIN, transaction.                                                                                                               | dependency                  | Error Message needed for user feedback                                                         | Error responses for registration, login, txn, validation                                     | Poor user feedback, unclear failure causes                             | Yes                       | Need for structured error messages/component; no file found, must be added or extended                                                | Missing                       | Not attributed to file; critical coverage gap for acceptance.                                |
| OnlineBankingNew_main | Not specified (2FA/OTP expiry/timing logic)             | add                           | Direct/Indirect   | Two-Factor Authentication, OTP expiry/time-bound logic.                                                                                                                              | dependency                  | 2FA/OTP expiry logic is needed                                                               | Time-bound OTP generation/validation                                                      | Security lapses, stale OTPs                                         | Yes                       | Must be implemented to meet compliance for 2FA OTP                                              | Missing                       | Not explicitly mapped to a source file; critical for secure 2FA logic.                       |
| OnlineBankingNew_main | src/main/resources/config.properties                    | modify                        | Direct          | OTP, DB, security parameter configuration.                                                                                                                                                                                  | config                      | Stores security properties, must be updated                                                   | OTP, DB, security parameter configuration                                                | Wrong config, system breach, unavailable features                      | Yes                       | Needs config for OTP, DB, error messages                                                          | Missing                       | Not confirmed present/updated—coverage gap for property-driven features.                     |
| OnlineBankingNew_main | src/main/resources/log4j.properties                     | modify                        | Direct          | Logging/traceability/error monitoring.                                                                                                                                                                                      | config                      | Needed for new trace/error logic                                                             | Logging/traceability/error monitoring                                                    | Loss of auditability, failed alerts                                   | Yes                       | None found/inspected. Update is required for new features and flows                                | Missing                       | Not confirmed updated/complete relative to new flows—coverage gap.                           |
| OnlineBankingNew_main | README.md                                               | modify                        | Direct          | User flow explanations, 2FA, registration/PIN process.                                                                                                                                                                      | documentation               | End-user/developer info for new flows                                                        | User flow explanations, 2FA, registration/PIN process                                     | Misleading documentation, onboarding issues                           | Yes                       | Needs update for new/changed flows, registration, PIN, error, 2FA                                  | Missing                       | No coverage until updated—must reflect all user and backend changes.                         |
| OnlineBankingNew_main | pom.xml/build.gradle                                    | modify                        | Direct          | Library support for OTP/email, encryption, validation.                                                                                                                                                                      | config                      | Must add required dependencies                                                              | Library support for OTP/email, encryption, validation                                    | Build failures, missing dependencies                                   | Yes                       | Implementation requires build dependencies—must be verified or added                               | Missing                       | No library coverage for OTP/mail/encryption seen—coverage gap.                               |
| OnlineBankingNew_main | src/test/java/... (all relevant test classes)           | add/modify                    | Indirect         | Test coverage for registration, login, PIN, transactions, error, 2FA, password reset.                                                                                                | test                        | Automated coverage required for compliance and defect prevention                             | Unit/acceptance tests for registration/login/PIN/transaction                               | Lack of coverage, missed defects                                      | Yes                       | No test classes found; must be created/updated for full acceptance coverage                        | Missing                       | Testing is critical for defect prevention and compliance—currently absent.                   |
| OnlineBankingNew_main | src/main/resources/config.properties                    | Not required – No new config found      | Direct          | Requirement for config exists, but entry not in repo listing.                                                                            | config                | Not required at this step if feature not implemented or pending            | Not specified            | Not specified                      | No           | Not required unless config file created                                                     | Not specified                    | Not required if not present; must be added when implementing feature.          |
| OnlineBankingNew_main | src/main/resources/log4j.properties                     | Not required – No new logging found     | Direct          | Requirement for logging exists, but entry not in repo listing.                                                                         | config                | Not required at this step if feature not implemented or pending            | Not specified            | Not specified                      | No           | Not required unless logging file created                                                    | Not specified                    | Not required if not present; must be added when implementing feature.          |

---

## 3. Value Stream Mapping Table and Section 4: Value Stream to Architecture Diagram

### Value Stream Mapping Table

| Codebase/Repo         | Code File/Module                                  | Value Stream                         | Business Service                           | IT Service                             | Application            | Component/Class             | Stakeholder/Persona         | KPI/Metric                     | Criticality       | Outcome/Goal                                  | Process Type                | Notes                                                                |
|-----------------------|---------------------------------------------------|--------------------------------------|--------------------------------------------|----------------------------------------|------------------------|-----------------------------|-----------------------------|-------------------------------|-------------------|------------------------------------------------|-----------------------------|----------------------------------------------------------------------|
| OnlineBankingNew_main | src/com/bank/dao/AccountDAO.java                  | Account Management                   | Account Operations                        | Database Management                    | Online Banking App     | AccountDAO                  | Bank Customer, DB Admin      | Data integrity, CRUD success   | High              | Reliable account access/update                 | Enabling/Supporting         | Direct DB interface for account data                                 |
| OnlineBankingNew_main | src/com/bank/dao/TransactionDAO.java              | Transaction Processing               | Transaction Management                     | Database Management                    | Online Banking App     | TransactionDAO              | Bank Customer, DB Admin      | Transaction record accuracy     | High              | Maintain complete transaction history           | Enabling/Supporting         | Secures financial transaction record-keeping                        |
| OnlineBankingNew_main | src/com/bank/dao/UserDAO.java                     | User Registration & Identity         | User Account Provisioning                   | Database Operations                    | Online Banking App     | UserDAO                     | Bank Customer, DB Admin      | Registration success rate       | High              | Proper user identification & onboarding          | Enabling                   | CRUD for user data, registration & authentication                    |
| OnlineBankingNew_main | src/com/bank/model/Account.java                   | Account Management                   | Account Data Model                         | Application Logic                      | Online Banking App     | Account                     | Bank Customer, DevOps         | Data accuracy                   | High              | Accurate mapping of account data                  | Core/Supporting             | Domain-driven design mapping to DB                                  |
| OnlineBankingNew_main | src/com/bank/model/Transaction.java               | Transaction Processing               | Transaction Data Model                      | Application Logic                      | Online Banking App     | Transaction                 | Bank Customer, Compliance      | Transaction auditing             | High              | Detailed and accurate transaction logs            | Core/Supporting             | Model for secure transaction recording                              |
| OnlineBankingNew_main | src/com/bank/model/User.java                      | User Registration & Identity         | User Data Model                            | Application Logic                      | Online Banking App     | User                        | Bank Customer, Compliance      | Registration & identity accuracy | High              | Reliable user profile and credential mapping      | Core/Supporting             | Maps to business registration & 2FA requirements                    |
| OnlineBankingNew_main | src/com/bank/service/AuthService.java             | Authentication                       | Login/Session Management                   | Identity Access Management             | Online Banking App     | AuthService                  | Bank Customer, Security Admin  | Auth success/failure rate        | Critical          | Prevent unauthorized access                        | Core                        | Credentials/PIN & 2FA logic                                       |
| OnlineBankingNew_main | src/com/bank/service/NotificationService.java     | User Communication                   | Alerts & Notification                      | Messaging Service                      | Online Banking App     | NotificationService           | Bank Customer                  | Notification reliability rate     | Medium           | Timely comms for security & transaction alerts     | Supporting                  | Notifies via email/SMS, for OTP, registration, etc.                 |
| OnlineBankingNew_main | src/com/bank/service/RegistrationService.java     | Multi-Step Registration              | User Onboarding                            | Identity Management                    | Online Banking App     | RegistrationService           | Bank Customer                  | Registration completion rate       | High              | Secure onboarding with validated identity           | Core                        | Orchestrates all registration steps                                 |
| OnlineBankingNew_main | src/com/bank/service/TransactionService.java      | Transaction Processing               | Financial Transaction                      | Transaction Service                    | Online Banking App     | TransactionService            | Bank Customer, Compliance       | Transaction speed & accuracy        | Critical          | Accurate, fast transaction processing                 | Core                        | Deposit, withdraw, balance, statement checks                        |
| OnlineBankingNew_main | src/com/bank/util/DBUtil.java                     | Data Security                        | Database Security                          | DB Connectivity & Security             | Online Banking App     | DBUtil                        | IT Admin, Security Admin        | Connection uptime, error logs         | Critical          | Secure, stable DB connections                            | Supporting                  | Secures credentials, logs error, uptime                             |
| OnlineBankingNew_main | src/com/bank/util/EncryptionUtil.java             | Data Protection                      | Data Encryption                            | Encryption Service                     | Online Banking App     | EncryptionUtil                 | Security Admin, Compliance       | Encryption success, breach count       | Critical          | Prevent data exposure & unauthorized access             | Supporting                  | Encrypts PINs, passwords, credentials                              |
| OnlineBankingNew_main | src/com/bank/web/UserController.java              | Banking UX & API                     | User-Facing API                            | Web Service                            | Online Banking App     | UserController                 | Bank Customer, IT Admin           | User session success, error rates        | High              | Usable, secure user experience, API endpoints             | Core                        | Manages login, registration, password reset, 2FA routing            |

---

### Section 4: Value Stream to Architecture Diagram

```mermaid
%%{init: {"theme":"default"}}%%
graph LR
  UserController["UserController (API Layer)"] --> RegistrationService["RegistrationService (Multi-Step Registration)"]
  UserController --> AuthService["AuthService (Authentication, 2FA)"]
  UserController --> TransactionService["TransactionService (Deposit/Withdraw/Balance/History)"]

  RegistrationService --> UserDAO["UserDAO (User Data Operations)"]
  RegistrationService --> NotificationService["NotificationService (OTP, Alerts)"]

  AuthService --> UserDAO
  AuthService --> EncryptionUtil["EncryptionUtil (Password/PIN Encryption)"]
  AuthService --> NotificationService

  TransactionService --> AccountDAO["AccountDAO (Account Data Ops)"]
  TransactionService --> TransactionDAO["TransactionDAO (Transaction Data Ops)"]
  TransactionService --> DBUtil["DBUtil (Secure DB Connection)"]
  TransactionService --> EncryptionUtil

  AccountDAO --> Account["Account (Data Model)"]
  TransactionDAO --> Transaction["Transaction (Data Model)"]

  UserDAO --> User["User (Data Model)"]

  NotificationService --> User["User (Contact Details for Notification)"]

  DBUtil --> AccountDAO
  DBUtil --> TransactionDAO
  DBUtil --> UserDAO

  EncryptionUtil --> User
  EncryptionUtil --> Account
"Stakeholder: Bank Customer" -.-> UserController
"Stakeholder: Security Admin" -.-> EncryptionUtil
"Stakeholder: IT Admin" -.-> DBUtil
```

---

# End of consolidated file. All required rows and sections are present and annotated. If a row or file entry is not required, reason is supplied.